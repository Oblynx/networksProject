\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}

\usepackage[utf8]{inputenc}
\usepackage[english,greek]{babel}
\usepackage{graphicx}
\graphicspath{
	{"/home/oblivion/Documents/Thmmy/examino8/net2/project/networksProject/TeiresiasEchoes/matlab/results/10-06 02:18:59/"}
	{"/home/oblivion/Documents/Thmmy/examino8/net2/project/networksProject/TeiresiasEchoes/permLogs/10-06 02:18:59/"}
}
\usepackage{geometry}
\geometry{a4paper, margin=2.5cm}
\usepackage{booktabs}
\setlength{\heavyrulewidth}{1.5pt}
\setlength{\abovetopsep}{4pt}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\lhead{Δίκτυα Υπολογιστών 2}
\rhead{Κωνσταντίνος Σαμαράς-Τσακίρης, 7972}
\cfoot{\thepage}

\usepackage{siunitx}
\sisetup{output-exponent-marker=\ensuremath{\mathrm{E}}}

\title{Δίκτυα 2: Αναφορά}
\author{Κωνσταντίνος Σαμαράς-Τσακίρης}

\begin{document}
\maketitle

\section{Δομή Κώδικα}
Ο κώδικας που συνοδεύει την εργασία είναι δομημένος σε πολλές κλάσεις που περιγράφονται συνοπτικά.

\vspace{0.5cm}
\begin{tabular}{|l|p{11cm}|}
	\hline
	\multicolumn{2}{c}{Λειτουργικές}\\
	\hline
	\foreignlanguage{english}{TeiresiasEchoes} & Η βασική κλάση, που φέρει τις παραμέτρους του πειράματος και εκκινεί τη διαδικασία.\\
	\foreignlanguage{english}{Measurer} & Παίρνει όλες τις μετρήσεις που χρειάζονται.\\
	\foreignlanguage{english}{AudioStreamer} & Ταυτόχρονα λαμβάνει πακέτα ήχου και τα παίζει.\\
	\foreignlanguage{english}{CopterController} & Ελέγχει το \foreignlanguage{english}{IthakiCopter} καλώντας τον \foreignlanguage{english}{PIDcontroller} και θέτει τις παραμέτρους ελέγχου.\\
	\foreignlanguage{english}{PIDcontroller} & Παρέχει επαυξημένο \foreignlanguage{english}{PID} έλεγχο με \foreignlanguage{english}{gain scheduling}, χωρίς να σχετίζεται άμεσα με το \foreignlanguage{english}{IthakiCopter}.\\
	\hline
\end{tabular}

\vspace{0.5cm}
\begin{tabular}{|l|p{11cm}|}
	\hline
	\multicolumn{2}{c}{Βοηθητικές}\\
	\hline
	\foreignlanguage{english}{IthakiSocket} & Παρέχει κανάλι επικοινωνίας με την Ιθάκη.\\
	\foreignlanguage{english}{Logger} & Παρέχει υπηρεσίες καταγραφής μηνυμάτων σε αρχεία.\\
	\foreignlanguage{english}{CircularArrayList} & Δομή δεδομένων που χρησιμοποιείται από τον \foreignlanguage{english}{PIDController}.\\
	\hline
\end{tabular}

\section{Παρατηρήσεις}
\subsection{\foreignlanguage{english}{Echo}}
Στο πείραμα \foreignlanguage{english}{ping} μετράται η καθυστέρηση παραλαβής του πακέτου και από αυτό υπολογίζεται η ρυθμαπόδοση ως το πλήθος των πακέτων που καταφθάνουν σε δοσμένο χρονικό διάστημα διά το χρόνο αυτό.

Η κατανομή των καθυστερήσεων φαίνεται διαφορετική στα 2 πειράματα που παρουσιάζονται. Στο 1ο μοιάζει με εκθετική, ενώ στο 2ο ομοιόμορφη. Ταυτόχρονα με τη διεξαγωγή των πειραμάτων το δίκτυο είχε φορτίο άλλης προέλευσης το οποίο μπορεί να συνεισέφερε στις κατά πολύ μεγαλύτερες καθυστερήσεις που παρουσιάζονται στην 1η συνεδρία. Αυτό το συμπέρασμα ενισχύεται από τη σύγκριση των διαγραμμάτων \foreignlanguage{english}{G5, G7} της συνεδρίας 2, με το πρώτο να έχει ενεργή την καθυστέρηση της Ιθάκης και το δεύτερο ανενεργή. Εκεί φαίνεται πως το τυπικό φορτίο του δικτύου προκαλεί καθυστερήσεις με εκθετική κατανομή, ενώ οι καθυστερήσεις της Ιθάκης είναι ομοιόμορφα κατανεμημένες. Η πιθανότερη υπόθεση που δικαιολογεί τις παρατηρήσεις είναι: Η κατανομή της Ιθάκης είναι ομοιόμορφη και τα αποτελέσματα της πρώτης συνεδρίας εξηγούνται από μεγάλο φορτίο του δικτύου.

\begin{table}
	\centering
	\begin{tabular}{c|cc}
	  \multicolumn{3}{c}{Συνεδρία 1}\\
		Με καθυστέρηση & Χωρίς καθυστέρηση\\
		\hline
		Μέσος όρος & \num{1098}$ms$ & \num{6.98} $ms$\\
		Διασπορά & \num{5.97e+6}$ms^2$ & \num{4800} $ms^2$\\
		\\
		\multicolumn{3}{c}{Συνεδρία 2}\\
		\hline
		Μέσος όρος & \num{1082} $ms$ & \num{55} $ms$\\
		Διασπορά & \num{159E3} $ms^2$ & \num{107} $ms^2$
	\end{tabular}

	\caption{Μέσος όρος και διασπορά καθυστερήσεων}
\end{table}

\subsection{\foreignlanguage{english}{Audio Streaming}}
Τα αποτελέσματα της 1ης συνεδρίας είναι παράξενα: η μουσική είναι λευκός θόρυβος, ενώ ο τόνος έχει στιγμές έντασης και περιόδους σιγής. Ενδεχομένως κατά τη διάρκεια αυτής της συνεδρίας να υπήρχε αρκετά μεγάλος φόρτος στο δίκτυο, ώστε να χάνονται πακέτα κατά τη μεταβίβαση.
Επειδή το κανάλι του ήχου χρησιμοποιεί πρωτόκολλο \foreignlanguage{english}{UDP} δε ζητείται επανάληψη του μηνύματος σε περίπτωση που αυτό μεταδοθεί εσφαλμένα, ούτε αν ο αποδέκτης δεν το λάβει ποτέ.
Επειδή το δίκτυο λειτουργεί με τη λογική \foreignlanguage{english}{"best effort"}, αυτό το αποτέλεσμα δεν είναι αδικαιολόγητο. Είναι σημειωτέο ότι στην ίδια συνεδρία ούτε οι εικόνες της κάμερας έφθασαν χωρίς μεγάλα σφάλματα.

Η 2η συνεδρία όμως είναι επιτυχής. Ο τόνος έχει 2 σημαντικές συχνότητες, 235 και 381$Hz$, ενώ ακούγεται το τραγούδι "Φεγγάρι μάγια μου 'κανες" (σε εκτέλεση Μπιθικώτση;). Ως προς την κατανομή των διαφορών και των δειγμάτων δε βρίσκονται καθοριστικά επιχειρήματα.
Στην περίπτωση της μουσικής, η κατανομή των διαφορών μοιάζει κανονική. Αν επιπλέον με βάση αυτήν την παρατήρηση θεωρήσουμε τις διαφορές ως κανονικό λευκό θόρυβο, τότε τα δείγματα της μουσικής παράγονται από την ολοκλήρωση αυτού του θορύβου και άρα μοντελοποιούνται ως μια διαδικασία \foreignlanguage{english}{Wiener}, ή κίνηση \foreignlanguage{english}{Brown}.
Αυτό θα σήμαινε ότι η κατανομή των δειγμάτων είναι επίσης κανονική. Η κατανομή Laplace παρόλα αυτά σχετίζεται και θα ήταν η κατανομή μιας επιλογής δειγμάτων με εκθετικά κατανεμημένο χρόνο (αντί για ομοιόμορφα).

Η συλλογή και εκτέλεση του ήχου στην εφαρμογή πραγματοποιείται με ταυτόχρονο μηχανισμό και χρήση ελαστικής μνήμης. Ο μηχανισμός συλλογής ξεκινά πρώτος, για να γεμίσει την ελαστική μνήμη κατά ένα ποσοστό του χρόνου. Στη συνέχεια ξεκινά ο μηχανισμός αναπαραγωγής. Ο δεύτερος καταναλώνει πακέτα με σταθερό ρυθμό $f_s= 8kHz$, ενώ ο πρώτος παράγει με τυχαίο ρυθμό που αναμένεται μικρότερος - αυτός είναι ο λόγος που ο συλλέκτης ξεκινά με ένα χρονικό προβάδισμα.
Αν παρ'όλα αυτά κατά την αναπαραγωγή του ήχου η ελαστική μνήμη αδειάσει, τότε ο μηχανισμός αναπαραγωγής τίθεται σε αναμονή για ένα χρονικό διάστημα ανάλογο της αρχικής καθυστέρησης, αλλά μικρότερο.

\subsection{\foreignlanguage{english}{IthakiCopter}}
Το πρόβλημα ελέγχου του \foreignlanguage{english}{IthakiCopter}, ενός αρκετά γραμμικού συστήματος, περιπλέκεται από τη μεγάλη και αβέβαιη καθυστέρηση του βρόχου ανάδρασης μέσω \foreignlanguage{english}{TCP}. Ο απλός \foreignlanguage{english}{PID} ελεγκτής δεν καταφέρνει να αντεπεξέρθει ικανοποιητικά, γεγονός που αποτέλεσε αφορμή για πειραματισμό με πιο σύνθετες μη γραμμικές μεθόδους, που όμως να βασίζονται στον \foreignlanguage{english}{PID} έλεγχο.

Η πρώτη σκέψη είναι η προδιαγραφή διαφορετικών τιμών παραμέτρων για διαφορετικές περιοχές του σφάλματος. Αυτό προκύπτει από την παρατήρηση ότι ο μηχανισμός PID συμπεριφέρεται καλύτερα για μικρό σφάλμα, παρά για μεγάλο, ίσως για μεγαλύτερες τιμές του σφάλματος το σύστημα εμφανίζει μικρές μη-γραμμικότητες. Επίσης, το ελικόπτερο αποκρίνεται πολύ ταχύτερα (=νευρικότερα) σε εντολή ανόδου, παρά σε εντολή καθόδου. Γι'αυτό επιλέχθηκαν 6 περιοχές λειτουργίας του σφάλματος με το μέγεθος των \foreignlanguage{english}{P,I} παραμέτρων να φθίνει καθώς το σφάλμα απομακρύνεται από το 0, για αποφυγή απότομων αντιδράσεων.
Η δεύτερη σκέψη είναι ότι το ολοκληρωτικό μέρος του ελεγκτή είναι χρήσιμο στην καταπολέμηση του σφάλματος μόνιμης κατάστασης, αλλά μειώνει την ευστάθεια του συστήματος στη μεταβατική κατάσταση. Προτείνεται λοιπόν ένας μηχανισμός ανίχνευσης της μεταβατικής κατάστασης που μειώνει την επίδραση του ολοκληρωτικού ελέγχου εκείνες τις στιγμές. Στην πιο απλή εκδοχή που υλοποιήθηκε, η μεταβατική κατάσταση ανιχνεύεται από την υψηλή διακύμανση των πρόσφατων τιμών του σφάλματος.

Τα αποτελέσματα είναι μεικτά. Ικανοποιούν υψηλές προδιαγραφές ταχύτητας σύγκλισης και τελικού σφάλματος, αλλά είναι ασταθή στις απότομες διαταραχές. Η είσοδος στο σύστημα ελεγκτη-ελικοπτέρου σε όλα τα πειράματα, δηλαδή το επίπεδο πτήσης, τίθεται σε μία τιμή στην αρχή και μετά από κάποιο χρόνο μεταβαίνει απότομα σε μία δεύτερη (μακρινή). Προσομοιώνεται έτσι μια είσοδος απότομης διαταραχής.

Η συμπεριφορά του ελεγκτή με αυτές τις ρυθμίσεις είναι η εξής:
\begin{itemize}
  \item Αρχική φάση (μετά την πρώτη διαταραχή): μετά από περιορισμένες ταλαντώσεις το σφάλμα του ελικοπτέρου συγκλίνει στο 0.
	\item Μετά τη δεύτερη διαταραχή: το σύστημα γίνεται ασταθές και προκύπτουν ταλαντώσεις υψηλού πλάτους.
\end{itemize}
Ενδεχομένως η αστάθεια να μπορεί εύκολα να καταπολεμηθεί με καλύτερη ρύθμιση του εντοπισμού μεταβατικής κατάστασης, ώστε να μειώνεται περισσότερο ο ολοκληρωτικός έλεγχος σε αυτήν την κατάσταση.

\section{Βιβλιογραφική έρευνα}
\subsection{UDP}
\subsection{Audio Streaming}

\section{Ρυθμίσεις AD
\end{document}
